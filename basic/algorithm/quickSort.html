<!DOCTYPE html>
<html>
<head>    
</head>
<body>
<script>
//let arr = [3, 2, 1, 8, 5, 9, 6, 10, 7, 4];

var quicksort = function(arr, left, right) {
    console.log(right);
    if (left < right) {

        //기준점을 찾고 기준점을 중심으로 더 작은수, 더 큰수 분류
        var i =  position(arr, left, right);
        //기준점 기준 좌측 정렬
        //console.log(i - 1);
        quicksort(arr, left, i - 1);
        //기준점 기준 우측 정렬
        
        quicksort(arr, i + 1, right);
    }

    return arr;
};

var position = function(arr, left, right) {
    var i = left;
    var j = right;
    var pivot = arr[left];

    //제자리 더 큰수/더 작은 수 좌우 배치.
    while (i < j) {
        //피벗보다 작은 값 찾기
        while (arr[j] > pivot) j--;
        //i<j: 엇갈리지 않고
        //피벗보다 큰 값 찾기
        while (i < j && arr[i] <= pivot) i++;

        tmp = arr[i];
        arr[i] = arr[j];
        arr[j] = tmp;
    }
    
    //큰값-> <-작은값 교환 다 끝나고 index엇갈리게 되면, 피벗과 작은인덱스의 값을 바꿔준다.
    arr[left] = arr[j];
    arr[j] = pivot;

    return j;
}
var arr = [ 4, 5, 1, 2, 11, 8, 3, 1, 2, 5 ];
quicksort(arr, 0, arr.length-1);
console.log(arr);
</script>
</body>
</html>